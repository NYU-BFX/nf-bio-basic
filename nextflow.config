// path to the current directory
def currentDir = new File(System.getProperty("user.dir")).getCanonicalPath()
String condaDir = "${currentDir}/conda"
params.condaDir = condaDir
def condaActivate = "${condaDir}/bin/activate"

params.container = "nextflow/rnaseq-nf"
executor.queueSize = 1

profiles {
    standard {
        docker.enabled = true
        process.container = "${params.container}"
    }

    conda {
        // assuming 'conda' not globally available on system, use the one installed in current dir
        process.beforeScript = "unset PYTHONHOME; unset PYTHONPATH; export PATH=${params.condaDir}:\$PATH"
        process.conda = "env.yml"
    }

    slurm {
        process.executor = "slurm"
        process.queue = 'cpu_dev' // dev queue on NYU Big Purple cluster
    }

    sge {
        process.executor = "sge"
    }
}
